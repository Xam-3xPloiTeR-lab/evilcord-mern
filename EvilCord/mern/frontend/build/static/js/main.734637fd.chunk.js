(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{114:function(e,n,c){},115:function(e,n,c){},116:function(e,n,c){},117:function(e,n,c){},118:function(e,n,c){"use strict";c.r(n);var a=c(3),s=c(2),t=c.n(s),i=c(25),r=c.n(i),l=(c(87),c(17)),o=c(28),j=Object(o.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),d=j.actions,b=d.login,h=d.logout,u=function(e){return e.user.user},O=j.reducer,m=(c(91),c(36)),x=(c(92),c(47)),p=c.n(x),f=c(63),v=c.n(f),g=Object(o.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelId=n.payload.channelId,e.channelName=n.payload.channelName}}}),_=g.actions.setChannelInfo,N=function(e){return e.app.channelId},I=function(e){return e.app.channelName},w=g.reducer;c(93);var S=function(e){var n=e.id,c=e.channel,s=Object(l.b)();return Object(a.jsx)("div",{className:"sidebarChannel",onClick:function(){return s(_({channelId:n,channelName:c}))},children:Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{className:"sidebarChannel_hash",children:"#"}),c]})})},C=c(64),y=c.n(C),k=c(65),z=c.n(k),B=c(66),D=c.n(B),E=c(134),L=c(133),M=c(67),A=c.n(M),H=c(68),W=c.n(H),F=c(69),G=c.n(F),P=c(42),R=(P.a.initializeApp({apiKey:"AIzaSyBd4I8SWdCSIFcfCM7KcoxoMAZBFw7CqSA",authDomain:"discord-clone-xam.firebaseapp.com",projectId:"discord-clone-xam",storageBucket:"discord-clone-xam.appspot.com",messagingSenderId:"336159482606",appId:"1:336159482606:web:c05ec94c529391f5f3c9ff",measurementId:"G-CSL39CVDGD"}).firestore(),P.a.auth()),J=new P.a.auth.GoogleAuthProvider,K=c(59),T=c.n(K).a.create({baseURL:"http://localhost:1337"}),U=c(40),V=c.n(U),q=new V.a("a92e0921af39228a0668",{cluster:"ap2"});var X=function(){var e=Object(l.c)(u),n=Object(s.useState)([]),c=Object(m.a)(n,2),t=c[0],i=c[1],r=function(){T.get("/get/channelList").then((function(e){console.log(e.data),i(e.data)}))};return Object(s.useEffect)((function(){r(),q.subscribe("channels").bind("newChannel",(function(e){r()}))}),[]),Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsxs)("div",{className:"sidebar__top",children:[Object(a.jsx)("h3",{children:"Evilcord"}),Object(a.jsx)(p.a,{})]}),Object(a.jsxs)("div",{className:"sidebar__channel",children:[Object(a.jsxs)("div",{className:"sidebar__channelHeader",children:[Object(a.jsxs)("div",{className:"sidebar__header",children:[Object(a.jsx)(p.a,{}),Object(a.jsx)("h4",{children:"Channel's List"})]}),Object(a.jsx)(v.a,{onClick:function(){var e=prompt("<Enter new channel name>");e&&T.post("/new/channel",{channelName:e})},className:"sidebar__addChannel"})]}),Object(a.jsx)("div",{className:"sidebar__channelList",children:t.map((function(e){return Object(a.jsx)(S,{id:e.id,channel:e.name},e.id)}))})]}),Object(a.jsxs)("div",{className:"sidebar__voice",children:[Object(a.jsx)(y.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(a.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(a.jsx)("h3",{children:"Voice disconnected"}),Object(a.jsx)("p",{children:"Stream"})]}),Object(a.jsxs)("div",{className:"sidebar__voiceIcon",children:[Object(a.jsx)(z.a,{}),Object(a.jsx)(D.a,{})]})]}),Object(a.jsxs)("div",{className:"sidebar__profile",children:[Object(a.jsx)(E.a,{src:e.photo}),Object(a.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(a.jsx)("h3",{children:e.displayName}),Object(a.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(a.jsxs)("div",{className:"sidebar__profileIcon",children:[Object(a.jsx)(A.a,{}),Object(a.jsx)(W.a,{}),Object(a.jsx)(G.a,{})]})]}),Object(a.jsx)(L.a,{onClick:function(){return R.signOut()},children:Object(a.jsx)("span",{className:"logout",children:"Logout"})})]})},Z=(c(114),c(115),c(70)),$=c.n(Z),Q=c(71),Y=c.n(Q),ee=c(72),ne=c.n(ee),ce=c(73),ae=c.n(ce),se=c(74),te=c.n(se),ie=c(75),re=c.n(ie);var le=function(e){var n=e.channelName;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"chatHeader",children:[Object(a.jsx)("div",{className:"chatHeader__left",children:Object(a.jsxs)("h3",{children:[Object(a.jsx)("span",{className:"chatHeader__hash",children:"#"}),n]})}),Object(a.jsxs)("div",{className:"chatHeader__right",children:[Object(a.jsx)($.a,{}),Object(a.jsx)(Y.a,{}),Object(a.jsx)(ne.a,{}),Object(a.jsxs)("div",{className:"chatHeader__search",children:[Object(a.jsx)("input",{placeholder:"search"}),Object(a.jsx)(ae.a,{})]}),Object(a.jsx)(te.a,{}),Object(a.jsx)(re.a,{})]})]})})},oe=c(76),je=c.n(oe),de=c(77),be=c.n(de),he=c(78),ue=c.n(he),Oe=c(79),me=c.n(Oe);c(116);var xe=function(e){var n=e.timestamp,c=e.user,s=e.message;return Object(a.jsxs)("div",{className:"message",children:[Object(a.jsx)(E.a,{src:c.photo}),Object(a.jsxs)("div",{className:"message__info",children:[Object(a.jsxs)("h4",{children:[c.displayName,Object(a.jsx)("span",{className:"message__infoTime",children:new Date(parseInt(n)).toDateString()})]}),Object(a.jsx)("p",{children:s})]})]})},pe=new V.a("a92e0921af39228a0668",{cluster:"ap2"});var fe=function(){var e=Object(l.c)(u),n=Object(l.c)(N),c=Object(l.c)(I),t=Object(s.useState)(""),i=Object(m.a)(t,2),r=i[0],o=i[1],j=Object(s.useState)([]),d=Object(m.a)(j,2),b=d[0],h=d[1],O=function(e){e&&T.get("/get/conversation?id=".concat(e)).then((function(e){h(e.data[0].conversation)}))};return Object(s.useEffect)((function(){O(n),pe.subscribe("conversation").bind("newMessage",(function(e){O(n)}))}),[n]),Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)(le,{channelName:c}),Object(a.jsx)("div",{className:"chat__Messages",children:b.map((function(e){return Object(a.jsx)(xe,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(a.jsxs)("div",{className:"chat__input",children:[Object(a.jsx)(je.a,{fontSize:"large"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("input",{disabled:!n,value:r,onChange:function(e){return o(e.target.value)},placeholder:"Message #".concat(c)}),Object(a.jsx)("button",{onClick:function(c){c.preventDefault(),T.post("/new/message?id=".concat(n),{message:r,timestamp:Date.now(),user:e}),o(""),O(n),pe.subscribe("conversation").bind("newMessage",(function(e){O(n)}))},className:"chat__InputButton",type:"submit",children:"Send"})]}),Object(a.jsxs)("div",{className:"chat__inputIcon",children:[Object(a.jsx)(be.a,{fontSize:"large"}),Object(a.jsx)(ue.a,{fontSize:"large"}),Object(a.jsx)(me.a,{fontSize:"large"})]})]})]})};c(117);var ve=function(){return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("div",{className:"login__logo",children:Object(a.jsx)("img",{src:"https://logo-logos.com/wp-content/uploads/2018/03/discord_icon_logo_remix.png",alt:""})}),Object(a.jsx)(L.a,{onClick:function(){R.signInWithPopup(J).catch((function(e){return alert(e.message)}))},children:"Sign In"}),Object(a.jsx)("h3",{className:"msg",children:"EvilCord By Xam-3xPloiTeR"})]})};var ge=function(){var e=Object(l.c)(u),n=Object(l.b)(u);return Object(s.useEffect)((function(){R.onAuthStateChanged((function(e){n(e?b({uid:e.uid,photo:e.photoURL,email:e.email,displayName:e.displayName}):h())}))}),[n]),Object(a.jsx)("div",{className:"app",children:null==e?Object(a.jsx)(ve,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(X,{}),Object(a.jsx)(fe,{})]})})},_e=Object(o.a)({reducer:{user:O,app:w}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(t.a.StrictMode,{children:Object(a.jsx)(l.a,{store:_e,children:Object(a.jsx)(ge,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,n,c){},91:function(e,n,c){},92:function(e,n,c){},93:function(e,n,c){}},[[118,1,2]]]);
//# sourceMappingURL=main.734637fd.chunk.js.map